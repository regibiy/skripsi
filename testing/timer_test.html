<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p id="countdown"></p>

    <script>
      const now = new Date();
      const dayOfWeek = now.getDay();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      let openTime, closeTime;

      if (dayOfWeek >= 1 && dayOfWeek <= 4) {
        if (hours < 7 || (hours == 7 && minutes < 15) || hours >= 12) {
          document.getElementById("countdown").innerHTML = "Hari ini libur";
        } else {
          openTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 7, 15);
          closeTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12);
        }
      } else if (dayOfWeek === 5 || dayOfWeek === 6) {
        if (hours < 7 || (hours == 7 && minutes < 15) || hours >= 11) {
          document.getElementById("countdown").innerHTML = "Hari ini libur";
        } else {
          openTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 7, 15);
          closeTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 11);
        }
      } else {
        document.getElementById("countdown").innerHTML = "Hari ini libur";
        setInterval(() => {
          document.getElementById("countdown").innerHTML = "Hari ini libur";
        }, 1000); // update setiap 1 detik
      }

      if (openTime && closeTime) {
        let timeLeft = Math.floor((closeTime.getTime() - now.getTime()) / 1000);

        if (timeLeft <= 0) {
          document.getElementById("countdown").innerHTML = "Tutup";
        } else {
          let hoursLeft = Math.floor(timeLeft / 3600);
          let minutesLeft = Math.floor((timeLeft % 3600) / 60);
          let timeString = `Tutup dalam ${hoursLeft} jam ${minutesLeft} menit lagi`;
          document.getElementById("countdown").innerHTML = timeString;
          setInterval(() => {
            timeLeft--;
            if (timeLeft <= 0) {
              document.getElementById("countdown").innerHTML = "Tutup";
            } else if (timeLeft <= 3600) {
              let minutesLeft = Math.floor(timeLeft / 60);
              let timeString = `Tutup dalam ${minutesLeft} menit lagi`;
              document.getElementById("countdown").innerHTML = timeString;
            } else {
              let hoursLeft = Math.floor(timeLeft / 3600);
              let minutesLeft = Math.floor((timeLeft % 3600) / 60);
              let timeString = `Tutup dalam ${hoursLeft} jam ${minutesLeft} menit lagi`;
              document.getElementById("countdown").innerHTML = timeString;
            }
          }, 1000); // update setiap 1 detik
        }
      }
    </script>
  </body>
</html>
